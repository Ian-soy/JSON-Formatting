# JSONè½¬APIæœåŠ¡åŠŸèƒ½æŒ‡å—

## ğŸš€ åŠŸèƒ½æ¦‚è¿°

JSONæ ¼å¼åŒ–å¤§å¸ˆæ’ä»¶æ–°å¢äº†**JSONæ•°æ®ä¸€é”®è½¬APIæœåŠ¡**åŠŸèƒ½ï¼Œè®©æ‚¨èƒ½å¤Ÿå¿«é€Ÿå°†JSONæ•°æ®è½¬æ¢ä¸ºå¯ç”¨çš„APIç«¯ç‚¹ï¼Œæå¤§æå‡å‰ç«¯å¼€å‘æ•ˆç‡ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- **ğŸ”§ ä¸€é”®è½¬æ¢**ï¼šå°†ä»»æ„JSONæ•°æ®å¿«é€Ÿè½¬æ¢ä¸ºAPIç«¯ç‚¹
- **ğŸŒ å¤šç§å®ç°**ï¼šæä¾›Express.jsã€Node.jsã€JSON Serverç­‰å¤šç§åç«¯å®ç°æ–¹æ¡ˆ
- **âš¡ å³æ—¶å¯ç”¨**ï¼šç”Ÿæˆçš„ä»£ç å¯ç›´æ¥åœ¨Vueã€Reacté¡¹ç›®ä¸­ä½¿ç”¨
- **ğŸ“ ä»£ç ç¤ºä¾‹**ï¼šè‡ªåŠ¨ç”Ÿæˆå‰ç«¯è°ƒç”¨ä»£ç å’Œåç«¯å®ç°ä»£ç 
- **ğŸ”„ CORSæ”¯æŒ**ï¼šè‡ªåŠ¨å¤„ç†è·¨åŸŸè¯·æ±‚é…ç½®
- **ğŸ“Š æ™ºèƒ½è·¯å¾„**ï¼šæ ¹æ®JSONæ•°æ®ç»“æ„æ™ºèƒ½æ¨èAPIè·¯å¾„

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### å‰ç«¯å¼€å‘é˜¶æ®µ
- **å¿«é€ŸåŸå‹å¼€å‘**ï¼šæ— éœ€ç­‰å¾…åç«¯APIï¼Œç›´æ¥ä½¿ç”¨JSONæ•°æ®è¿›è¡Œå¼€å‘
- **æ¥å£è®¾è®¡éªŒè¯**ï¼šå¿«é€ŸéªŒè¯APIæ¥å£è®¾è®¡çš„åˆç†æ€§
- **æ•°æ®ç»“æ„æµ‹è¯•**ï¼šæµ‹è¯•å‰ç«¯ç»„ä»¶å¯¹ä¸åŒæ•°æ®ç»“æ„çš„å¤„ç†èƒ½åŠ›

### å›¢é˜Ÿåä½œ
- **å‰åç«¯å¹¶è¡Œå¼€å‘**ï¼šå‰ç«¯å¯ä»¥å…ˆç”¨æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œå¼€å‘
- **APIæ–‡æ¡£ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”ŸæˆAPIä½¿ç”¨ç¤ºä¾‹å’Œå®ç°ä»£ç 
- **æ•°æ®æ ¼å¼æ ‡å‡†åŒ–**ï¼šç»Ÿä¸€å›¢é˜Ÿçš„æ•°æ®æ ¼å¼è§„èŒƒ

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **è¾“å…¥JSONæ•°æ®**
   - åœ¨æ’ä»¶ä¸­è¾“å…¥æˆ–ç²˜è´´æ‚¨çš„JSONæ•°æ®
   - ç¡®ä¿JSONæ ¼å¼æ­£ç¡®ï¼ˆå¯ä½¿ç”¨æ ¼å¼åŒ–åŠŸèƒ½éªŒè¯ï¼‰

2. **ç‚¹å‡»APIæŒ‰é’®**
   - ç‚¹å‡»å·¥å…·æ ä¸­çš„"ğŸš€"æŒ‰é’®æ‰“å¼€APIæœåŠ¡é¢æ¿

3. **é…ç½®APIç«¯ç‚¹**
   - è‡ªå®šä¹‰APIè·¯å¾„ï¼ˆå¯é€‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ¨èï¼‰
   - æ·»åŠ APIæè¿°ä¿¡æ¯

4. **åˆ›å»ºAPIç«¯ç‚¹**
   - ç‚¹å‡»"åˆ›å»ºAPIç«¯ç‚¹"æŒ‰é’®
   - ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆå¤šç§å®ç°æ–¹æ¡ˆ

5. **ä½¿ç”¨ç”Ÿæˆçš„ä»£ç **
   - å¤åˆ¶å‰ç«¯è°ƒç”¨ä»£ç åˆ°æ‚¨çš„é¡¹ç›®ä¸­
   - é€‰æ‹©åˆé€‚çš„åç«¯å®ç°æ–¹æ¡ˆ

### 2. APIè·¯å¾„æ™ºèƒ½æ¨è

ç³»ç»Ÿä¼šæ ¹æ®JSONæ•°æ®ç»“æ„è‡ªåŠ¨æ¨èåˆé€‚çš„APIè·¯å¾„ï¼š

```javascript
// ç”¨æˆ·æ•°æ® â†’ /api/users
{
  "users": [...]
}

// äº§å“æ•°æ® â†’ /api/products  
{
  "products": [...]
}

// æ•°ç»„æ•°æ® â†’ /api/list
[
  {...},
  {...}
]

// é€šç”¨æ•°æ® â†’ /api/data
{
  "key": "value"
}
```

### 3. æ”¯æŒçš„å®ç°æ–¹æ¡ˆ

#### Express.js å®ç°
```javascript
const express = require('express');
const cors = require('cors');
const app = express();

app.use(cors());
app.get('/api/data', (req, res) => {
  res.json(yourData);
});

app.listen(3000);
```

#### JSON Server å®ç°
```json
{
  "data": yourJsonData
}
```
```bash
npm install json-server --save-dev
json-server --watch db.json --port 3000 --cors
```

#### Node.js åŸç”Ÿå®ç°
```javascript
const http = require('http');
const server = http.createServer((req, res) => {
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Content-Type', 'application/json');
  res.end(JSON.stringify(yourData));
});
```

#### Mock Service Worker (MSW)
```javascript
import { rest } from 'msw';
export const handlers = [
  rest.get('/api/data', (req, res, ctx) => {
    return res(ctx.json(yourData));
  }),
];
```

#### Vercel Serverless
```javascript
// api/data.js
export default function handler(req, res) {
  res.status(200).json(yourData);
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æ•°æ®ç»“æ„è®¾è®¡
```javascript
// âœ… æ¨èï¼šç»“æ„åŒ–çš„æ•°æ®
{
  "users": [
    {
      "id": 1,
      "name": "å¼ ä¸‰",
      "email": "zhangsan@example.com"
    }
  ],
  "meta": {
    "total": 1,
    "page": 1
  }
}

// âŒ é¿å…ï¼šè¿‡äºå¤æ‚çš„åµŒå¥—ç»“æ„
{
  "level1": {
    "level2": {
      "level3": {
        "data": "value"
      }
    }
  }
}
```

### 2. APIè·¯å¾„å‘½å
```javascript
// âœ… æ¨èï¼šRESTfulé£æ ¼
/api/users          // ç”¨æˆ·åˆ—è¡¨
/api/users/1        // å•ä¸ªç”¨æˆ·
/api/products       // äº§å“åˆ—è¡¨

// âŒ é¿å…ï¼šåŠ¨è¯å½¢å¼
/api/getUsers       
/api/fetchProducts  
```

### 3. å“åº”æ ¼å¼æ ‡å‡†åŒ–
```javascript
// âœ… æ¨èï¼šç»Ÿä¸€çš„å“åº”æ ¼å¼
{
  "success": true,
  "data": [...],
  "message": "æ“ä½œæˆåŠŸ",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### 1. åˆ†é¡µæ”¯æŒ
ç”Ÿæˆçš„Express.jsä»£ç è‡ªåŠ¨æ”¯æŒåˆ†é¡µå‚æ•°ï¼š
```javascript
// GET /api/data?page=1&limit=10
{
  "data": [...],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 100,
    "totalPages": 10
  }
}
```

### 2. æŸ¥è¯¢è¿‡æ»¤
æ”¯æŒåŸºæœ¬çš„æŸ¥è¯¢å‚æ•°è¿‡æ»¤ï¼š
```javascript
// GET /api/users?name=å¼ ä¸‰
// GET /api/products?category=ç”µå­äº§å“
```

### 3. CORSé…ç½®
æ‰€æœ‰ç”Ÿæˆçš„å®ç°éƒ½åŒ…å«å®Œæ•´çš„CORSé…ç½®ï¼š
```javascript
res.setHeader('Access-Control-Allow-Origin', '*');
res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');
```

## ğŸš€ å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

### Vue.js é¡¹ç›®é›†æˆ
```vue
<template>
  <div>
    <div v-if="loading">åŠ è½½ä¸­...</div>
    <div v-else>
      <div v-for="item in data" :key="item.id">
        {{ item.name }}
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      data: [],
      loading: true
    };
  },
  async mounted() {
    try {
      const response = await fetch('http://localhost:3000/api/users');
      this.data = await response.json();
    } catch (error) {
      console.error('APIè¯·æ±‚å¤±è´¥:', error);
    } finally {
      this.loading = false;
    }
  }
};
</script>
```

### React é¡¹ç›®é›†æˆ
```jsx
import React, { useState, useEffect } from 'react';

function UserList() {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const response = await fetch('http://localhost:3000/api/users');
        const result = await response.json();
        setData(result);
      } catch (error) {
        console.error('APIè¯·æ±‚å¤±è´¥:', error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, []);

  if (loading) return <div>åŠ è½½ä¸­...</div>;

  return (
    <div>
      {data.map(item => (
        <div key={item.id}>{item.name}</div>
      ))}
    </div>
  );
}

export default UserList;
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **CORSé”™è¯¯**
   - ç¡®ä¿åç«¯ä»£ç åŒ…å«æ­£ç¡®çš„CORSå¤´è®¾ç½®
   - æ£€æŸ¥ç«¯å£å·æ˜¯å¦æ­£ç¡®

2. **JSONæ ¼å¼é”™è¯¯**
   - ä½¿ç”¨æ’ä»¶çš„æ ¼å¼åŒ–åŠŸèƒ½éªŒè¯JSONæ ¼å¼
   - æ£€æŸ¥æ˜¯å¦æœ‰å¤šä½™çš„é€—å·æˆ–å¼•å·

3. **ç«¯å£å ç”¨**
   - æ›´æ”¹ç«¯å£å·ï¼ˆé»˜è®¤3000ï¼‰
   - æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–æœåŠ¡å ç”¨ç«¯å£

4. **ç½‘ç»œè¯·æ±‚å¤±è´¥**
   - ç¡®è®¤APIæœåŠ¡å™¨å·²å¯åŠ¨
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### è°ƒè¯•æŠ€å·§

1. **ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·**
   - æŸ¥çœ‹Networkæ ‡ç­¾é¡µçš„è¯·æ±‚è¯¦æƒ…
   - æ£€æŸ¥Consoleä¸­çš„é”™è¯¯ä¿¡æ¯

2. **APIæµ‹è¯•**
   - ä½¿ç”¨æ’ä»¶å†…ç½®çš„"æµ‹è¯•"åŠŸèƒ½
   - æˆ–ä½¿ç”¨Postmanç­‰å·¥å…·æµ‹è¯•API

3. **æ—¥å¿—è¾“å‡º**
   - åœ¨ç”Ÿæˆçš„æœåŠ¡å™¨ä»£ç ä¸­æ·»åŠ console.log
   - ç›‘æ§è¯·æ±‚å’Œå“åº”æ•°æ®

## ğŸ“š ç›¸å…³èµ„æº

- [Express.js å®˜æ–¹æ–‡æ¡£](https://expressjs.com/)
- [JSON Server æ–‡æ¡£](https://github.com/typicode/json-server)
- [Mock Service Worker æ–‡æ¡£](https://mswjs.io/)
- [Vercel éƒ¨ç½²æŒ‡å—](https://vercel.com/docs)

## ğŸ¤ è´¡çŒ®ä¸åé¦ˆ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿ï¼š
- æäº¤IssueæŠ¥å‘Šé—®é¢˜
- æä¾›åŠŸèƒ½æ”¹è¿›å»ºè®®
- åˆ†äº«ä½¿ç”¨ç»éªŒå’Œæœ€ä½³å®è·µ

---

**æ³¨æ„**ï¼šæ­¤åŠŸèƒ½ä¸»è¦ç”¨äºå¼€å‘é˜¶æ®µçš„æ•°æ®æ¨¡æ‹Ÿï¼Œç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ä¸“ä¸šçš„APIæœåŠ¡å™¨è§£å†³æ–¹æ¡ˆã€‚